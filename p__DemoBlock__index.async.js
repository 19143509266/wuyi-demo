"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[974],{33594:function(X,S,r){r.r(S),r.d(S,{default:function(){return F}});var C=r(26068),i=r.n(C),c=r(75271),D=r(48305),R=r.n(D),T=r(67825),p=r.n(T),B=r(53763),I=r(18850),l=r(52676),M=["autoHeight","offsetHeight"],s=function(t){if(t){var e=getComputedStyle(t),a=parseFloat(e.marginTop),o=parseFloat(e.marginBottom);return a+o}return 0},P=function(t){var e,a=t.autoHeight,o=t.offsetHeight,W=o===void 0?0:o,m=p()(t,M),g=m.scroll,f=(0,c.useRef)(null),Z=(0,c.useState)(null),j=R()(Z,2),h=j[0],$=j[1],k=function(){if(a){var u=f.current;if(u){var n=u.querySelector(".ant-pro-table-search"),x=u.querySelector(".ant-pro-table-list-toolbar"),H=u.querySelector(".ant-table-thead"),b=u.querySelector(".ant-pagination"),G=n?n.clientHeight+s(n):0,J=x?x.clientHeight+s(x):0,N=H?H.clientHeight+s(H):0,Q=b?b.clientHeight+s(b):0,U=G+J+N+Q,V=u.clientHeight-U-s(n)-W;$(V)}}},K=(0,I.Z)(k,{wait:200}),d=K.run;console.log(h,"==================height"),console.log((e=f.current)===null||e===void 0?void 0:e.clientHeight,"==================clientHeight"),(0,c.useEffect)(function(){var y=new ResizeObserver(function(){d()}),u=new MutationObserver(d),n=f.current;return n&&(y.observe(n),u.observe(n,{childList:!0,subtree:!0})),d(),function(){n&&(y.unobserve(n),u.disconnect())}},[a,d]);var L=(0,c.useMemo)(function(){return a&&h?i()(i()({},g),{},{y:h}):g},[h,g,a]);return(0,l.jsx)("div",{ref:f,style:{width:"100%",height:"100%"},children:(0,l.jsx)(B.Z,i()(i()({},m),{},{scroll:L}))})},z=P,O=function(){for(var t=[],e=0;e<10;e++)t.push({title:"\u6D4B\u8BD5".concat(e),dataIndex:e});return t},A=function(){for(var t=[],e=0;e<100;e++){for(var a={},o=0;o<10;o++)a[o]="\u6570\u636E".concat(e,"-").concat(o);t.push(i()({key:e},a))}return t},E=function(){var t=c.useRef(null);return(0,l.jsxs)("div",{style:{width:"100%",height:"100%"},children:[(0,l.jsx)("div",{style:{height:"50px",backgroundColor:"#ccc",cursor:"pointer"},onClick:function(){t.current&&t.current.requestFullscreen()},children:"head"}),(0,l.jsx)("div",{style:{height:"calc(100% - 100px)"},ref:t,children:(0,l.jsx)(z,{columns:O(),dataSource:A(),autoHeight:!0,rowKey:"key"})}),(0,l.jsx)("div",{style:{height:"50px",backgroundColor:"#ccc"},children:"footer"})]})},F=E}}]);
