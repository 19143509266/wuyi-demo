"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12],{7590:function($e,D,r){r.r(D),r.d(D,{default:function(){return He}});var J=r(15558),R=r.n(J),K=r(26068),a=r.n(K),M=r(48305),F=r.n(M),k=r(75271),Q={container:"container___zfp_d"},V=r(99275),Y=r(8212),N={container:"container___v4ahw",groupTitle:"groupTitle___EOhGN",divider:"divider___pP60E",componentGroup:"componentGroup___FFg_d",componentItem:"componentItem___JLfXp"},e=r(52676),q=[{key:"general",title:"\u901A\u7528",components:[{label:"\u6309\u94AE",value:"Button",type:"button"},{label:"\u56FE\u6807",value:"Icon",type:"icon"}]},{key:"layout",title:"\u5E03\u5C40",components:[{label:"\u5206\u5272\u7EBF",value:"Divider",type:"layout"}]},{key:"data-entry",title:"\u6570\u636E\u5F55\u5165",components:[{label:"\u7EA7\u8054\u9009\u62E9",value:"Cascader",type:"form-item"},{label:"\u591A\u9009\u6846",value:"Checkbox",type:"form-item"},{label:"\u65E5\u671F\u9009\u62E9\u6846",value:"DatePicker",type:"form-item"},{label:"\u8F93\u5165\u6846",value:"Input",type:"form-item"},{label:"\u6570\u5B57\u8F93\u5165\u6846",value:"InputNumber",type:"form-item"},{label:"\u5355\u9009\u6846",value:"Radio",type:"form-item"},{label:"\u8BC4\u5206",value:"Rate",type:"form-item"},{label:"\u9009\u62E9\u5668",value:"Select",type:"form-item"},{label:"\u6ED1\u52A8\u8F93\u5165\u6761",value:"Slider",type:"form-item"},{label:"\u5F00\u5173",value:"Switch",type:"form-item"},{label:"\u65F6\u95F4\u9009\u62E9\u6846",value:"TimePicker",type:"form-item"},{label:"\u6811\u9009\u62E9",value:"TreeSelect",type:"form-item"},{label:"\u4E0A\u4F20",value:"Upload",type:"form-item"}]},{key:"data-display",title:"\u6570\u636E\u5C55\u793A",components:[{label:"\u5934\u50CF",value:"Avatar",type:"data-display"},{label:"\u5FBD\u6807\u6570",value:"Badge",type:"data-display"},{label:"\u65E5\u5386",value:"Calendar",type:"data-display"},{label:"\u5361\u7247",value:"Card",type:"data-display"},{label:"\u8D70\u9A6C\u706F",value:"Carousel",type:"data-display"},{label:"\u6298\u53E0\u9762\u677F",value:"Collapse",type:"data-display"},{label:"\u63CF\u8FF0\u5217\u8868",value:"Descriptions",type:"data-display"},{label:"\u7A7A\u72B6\u6001",value:"Empty",type:"data-display"},{label:"\u56FE\u7247",value:"Image",type:"data-display"},{label:"\u5217\u8868",value:"List",type:"data-display"},{label:"\u6C14\u6CE1\u5361\u7247",value:"Popover",type:"data-display"},{label:"\u4E8C\u7EF4\u7801",value:"QRCode",type:"data-display"},{label:"\u5206\u6BB5\u63A7\u5236\u5668",value:"Segmented",type:"data-display"},{label:"\u7EDF\u8BA1\u6570\u503C",value:"Statistic",type:"data-display"},{label:"\u8868\u683C",value:"Table",type:"data-display"},{label:"\u6807\u7B7E\u9875",value:"Tabs",type:"data-display"},{label:"\u6807\u7B7E",value:"Tag",type:"data-display"},{label:"\u65F6\u95F4\u8F74",value:"Timeline",type:"data-display"},{label:"\u6587\u5B57\u63D0\u793A",value:"Tooltip",type:"data-display"},{label:"\u6F2B\u6E38\u5F0F\u5F15\u5BFC",value:"Tour",type:"data-display"},{label:"\u6811\u5F62\u63A7\u4EF6",value:"Tree",type:"data-display"}]}],_=function(o){var n=o.handleComponentDragEnd;return(0,e.jsx)("div",{className:N.container,children:q.map(function(d){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:N.groupTitle,children:d.title}),(0,e.jsx)(Y.Z,{className:N.divider}),(0,e.jsx)("div",{className:N.componentGroup,children:d.components.map(function(t){return(0,e.jsx)("div",{className:N.componentItem,draggable:!0,onDragEnd:function(y){return n(y,a()(a()({},t),{},{componentCategory:"form"}))},children:t.label},t.value)})})]},d.key)})})},ee=_,L=260,H=12,ne=30,G=["s","w","e","n","sw","nw","se","ne"],O={Button:{props:{block:!0,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,iconPosition:"start",shape:"default",size:"middle",target:"_blank",type:"default"},customAttr:{label:"\u6309 \u94AE",event:null}},Cascader:{props:{options:[{label:"\u9009\u98791",value:"1",key:"1",children:[{label:"\u9009\u98791-1",value:"1-1",key:"1-1",children:[]}]}]},customAttr:{dataMode:"static"}}},te=[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u4E3B\u8981",value:"primary"},{label:"\u865A\u7EBF",value:"dashed"},{label:"\u94FE\u63A5",value:"link"},{label:"\u6587\u5B57",value:"text"}],ae=[{label:"\u5F53\u524D\u7A97\u53E3",value:"_self"},{label:"\u65B0\u7A97\u53E3",value:"_blank"}],le=[{label:"\u5927",value:"large"},{label:"\u4E2D",value:"middle"},{label:"\u5C0F",value:"small"}],oe=[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u5706\u5F62",value:"circle"},{label:"\u5706\u89D2",value:"round"}],re=function(o){var n=o.handleComponentDragEnd,d=[{key:"form",label:"\u8868\u5355",children:(0,e.jsx)(ee,{handleComponentDragEnd:n})},{key:"chart",label:"\u56FE\u8868",children:"Tab 2 content"}];return(0,e.jsx)("div",{className:Q.container,style:{width:L},children:(0,e.jsx)(V.Z,{items:d})})},ie=re,Z={container:"container___VTM4x","grid-item":"grid-item___NAIDX","grid-item-content":"grid-item-content___OX_bK","drag-handle":"drag-handle___iG4GC",top:"top___LbvRG",bottom:"bottom___QlbNI",left:"left___cbULG",right:"right___Jnp8w"},ue=r(62288),de=r.n(ue),se=r(76522),v=r(35048),ce={container:"container___2UBTL"},ve=function(o){var n=o.componentItem,d=o.form,t=se[n.componentType];if(!t)return(0,e.jsxs)("div",{children:["Invalid component type: ",n.componentType]});var p=function(){var f,g=n==null||(f=n.customAttr)===null||f===void 0?void 0:f.event;switch(g){case"submit":d.validateFields().then(function(b){console.log("Form values:",b)});break;case"reset":d.resetFields();break}},y=function(f){var g;switch(f){case"form-item":return(0,e.jsx)(v.Z.Item,{name:n.i,label:n.componentType,children:(0,e.jsx)(t,a()({},n.props))});case"button":return(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(t,a()(a()({},n.props),{},{onClick:p,children:(n==null||(g=n.customAttr)===null||g===void 0?void 0:g.label)||""}))});case"layout":return(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(t,a()({},n.props))});case"data-display":return(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(t,a()({},n.props))});default:return(0,e.jsx)("div",{children:"Invalid component type:"})}};return(0,e.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center"},className:ce.container,children:y(n.type)})},me=ve,w=r(99452),pe={"container-fluid":"container-fluid___dR0V0"},fe=function(o){var n=o.componentItem,d=o.handleEditComponent;return(0,e.jsx)("div",{className:pe["container-fluid"],children:(0,e.jsx)(w.Z,{style:{cursor:"pointer"},onClick:function(p){p.stopPropagation(),d(n,"delete")}})})},he=fe,Ce=function(o){var n=o.layout,d=o.setLayout,t=o.curComponent,p=o.setCurComponent,y=o.form,l=(0,k.useState)(window.innerWidth-520),f=F()(l,2),g=f[0],b=f[1];(0,k.useEffect)(function(){var i=function(){return b(window.innerWidth-520)};return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}},[]);var A=function(m){d(function(s){return s.map(function(x){var h=m.find(function(I){return I.i===x.i});if(h){var j=a()(a()({},x),{},{x:h.x,y:h.y,h:h.h,w:h.w,resizeHandles:(t==null?void 0:t.id)===x.i?G:x.resizeHandles});return j.i===(t==null?void 0:t.id)&&p(j),j}return x})})},E=function(m,s){switch(s){case"delete":p(null),d(function(x){return x.filter(function(h){return h.id!==m.id})});break}};return(0,e.jsx)("div",{className:Z.container,style:{width:"calc(100% - ".concat(L*2,"px)")},children:(0,e.jsx)(de(),{className:"layout",layout:n,cols:H,rowHeight:ne,width:g,onLayoutChange:A,draggableHandle:".".concat(Z["drag-handle"]),children:n.map(function(i){return(0,e.jsxs)("div",{style:{background:"#e6f7ff"},onClick:function(s){s.stopPropagation(),p(i)},children:[(t==null?void 0:t.id)===i.i&&(0,e.jsx)(he,{componentItem:i,handleEditComponent:E}),(0,e.jsxs)("div",{className:Z["grid-item"],style:(t==null?void 0:t.id)===i.i?{outline:"1px solid #70c0ff"}:{},children:[(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.top)}),(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.bottom)}),(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.left)}),(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.right)}),(0,e.jsx)("div",{className:Z["grid-item-content"],children:(0,e.jsx)(me,{componentItem:i,form:y})})]})]},i.id)})})})},ye=Ce,xe={container:"container___Ofx95"},ge=r(82092),W=r.n(ge),P=r(58482),z=r(8211),be=r(10491),$=r(2309),je=r(20029),Ie=r(79341),Te=r(92430),Ze=r(55206),Ae=r(81347),Ee=r(78196),Se=r(34900);function U(C,o,n){var d=function t(p,y){return p.some(function(l){return l.key===y||l.children&&t(l.children,y)})};return d(C,n.key)?(Se.ZP.error("key \u5DF2\u7ECF\u5B58\u5728\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165"),C):o===null?[].concat(R()(C),[n]):C.map(function(t){return t.key===o?a()(a()({},t),{},{children:[].concat(R()(t.children||[]),[n])}):t.children?a()(a()({},t),{},{children:U(t.children,o,n)}):t})}function X(C,o){return C.filter(function(n){return n.key!==o}).map(function(n){return a()(a()({},n),{},{children:n.children?X(n.children,o):[]})})}var Fe=function(o){var n=o.options,d=o.setCurComponent,t=(0,k.useState)(!1),p=F()(t,2),y=p[0],l=p[1],f=(0,k.useState)(null),g=F()(f,2),b=g[0],A=g[1],E=v.Z.useForm(),i=F()(E,1),m=i[0],s=function(){A(null),l(!0)},x=function(c){return(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[c==null?void 0:c.label,"(key: ",c==null?void 0:c.key,")"]}),(0,e.jsxs)(je.Z,{children:[(0,e.jsx)(Ae.Z,{onClick:function(u){u.stopPropagation(),A(c==null?void 0:c.key),l(!0)}}),(0,e.jsx)(w.Z,{onClick:function(u){u.stopPropagation(),d(function(S){if(S){var B,Ge=X((S==null||(B=S.props)===null||B===void 0?void 0:B.options)||[],c==null?void 0:c.key);return a()(a()({},S),{},{props:a()(a()({},S.props),{},{options:Ge})})}return null})}})]})]})},h=function(){m.resetFields(),l(!1)},j=function(){m.validateFields().then(function(c){var T=a()(a()({},c),{},{key:c.value,children:[]});d(function(u){if(u){var S,B=U((u==null||(S=u.props)===null||S===void 0?void 0:S.options)||[],b,T);return a()(a()({},u),{},{props:a()(a()({},u.props),{},{options:B})})}return null}),h()})};return(0,e.jsxs)("div",{children:[(n==null?void 0:n.length)===0?(0,e.jsx)("div",{style:{textAlign:"center"},children:"\u6682\u65E0\u6570\u636E"}):(0,e.jsx)(Ie.Z,{treeData:n,blockNode:!0,showLine:!0,titleRender:x,defaultExpandAll:!0}),(0,e.jsx)(Te.ZP,{type:"link",size:"small",icon:(0,e.jsx)(Ee.Z,{}),onClick:s,children:"\u6DFB\u52A0"}),(0,e.jsx)(Ze.Z,{title:"\u6DFB\u52A0\u6570\u636E",open:y,onCancel:h,onOk:j,centered:!0,children:(0,e.jsxs)(v.Z,{form:m,children:[(0,e.jsx)(v.Z.Item,{label:"label",name:"label",rules:[{required:!0,message:"\u8BF7\u8F93\u5165label"}],children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(v.Z.Item,{label:"value",name:"value",rules:[{required:!0,message:"\u8BF7\u8F93\u5165value"}],children:(0,e.jsx)(P.Z,{})})]})})]})},ke=Fe,Ne=function(o){var n=o.curComponent,d=o.setCurComponent;if(!n)return null;var t=v.Z.useForm(),p=F()(t,1),y=p[0],l=function(b,A,E){d(function(i){return i?a()(a()({},i),{},W()({},b,a()(a()({},i[b]),{},W()({},A,E)))):null})},f=function(b){var A,E,i,m,s,x,h,j,I,c;switch(b){case"Button":return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z.Item,{label:"\u540D\u79F0",name:"name",initialValue:n==null||(A=n.customAttr)===null||A===void 0?void 0:A.label,children:(0,e.jsx)(P.Z,{onChange:function(u){return l("customAttr","label",u.target.value)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6309\u94AE\u7C7B\u578B",name:"type",initialValue:n==null||(E=n.props)===null||E===void 0?void 0:E.type,children:(0,e.jsx)(z.default,{options:te,onChange:function(u){return l("props","type",u)}})}),(0,e.jsx)(v.Z.Item,{label:"\u5371\u9669",name:"danger",initialValue:n==null||(i=n.props)===null||i===void 0?void 0:i.danger,children:(0,e.jsx)(be.Z,{onChange:function(u){return l("props","danger",u)}})}),(0,e.jsx)(v.Z.Item,{label:"\u94FE\u63A5",name:"href",initialValue:n==null||(m=n.props)===null||m===void 0?void 0:m.href,children:(0,e.jsx)(P.Z,{onChange:function(u){return l("props","href",u.target.value)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6253\u5F00\u65B9\u5F0F",name:"target",initialValue:n==null||(s=n.props)===null||s===void 0?void 0:s.target,children:(0,e.jsx)(z.default,{options:ae,onChange:function(u){return l("props","type",u)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6309\u94AE\u5927\u5C0F",name:"size",initialValue:n==null||(x=n.props)===null||x===void 0?void 0:x.size,children:(0,e.jsx)(z.default,{options:le,onChange:function(u){return l("props","size",u)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6309\u94AE\u5F62\u72B6",name:"shape",initialValue:n==null||(h=n.props)===null||h===void 0?void 0:h.shape,children:(0,e.jsx)(z.default,{options:oe,onChange:function(u){return l("props","shape",u)}})}),(0,e.jsx)(v.Z.Item,{label:"\u4E8B\u4EF6",name:"event",initialValue:n==null||(j=n.customAttr)===null||j===void 0?void 0:j.event,children:(0,e.jsx)(z.default,{options:[{label:"\u63D0\u4EA4\u8868\u5355",value:"submit"},{label:"\u91CD\u7F6E\u8868\u5355",value:"reset"}],onChange:function(u){return l("customAttr","event",u)}})})]});case"Cascader":return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z.Item,{name:"dataMode",initialValue:n==null||(I=n.customAttr)===null||I===void 0?void 0:I.dataMode,children:(0,e.jsxs)($.ZP.Group,{optionType:"button",buttonStyle:"solid",children:[(0,e.jsx)($.ZP,{value:"static",children:"\u9759\u6001\u6570\u636E"}),(0,e.jsx)($.ZP,{value:"dynamic",children:"\u52A8\u6001\u6570\u636E"})]})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(ke,{options:n==null||(c=n.props)===null||c===void 0?void 0:c.options,setCurComponent:d})})]});default:return(0,e.jsx)("div",{children:b})}};return(0,e.jsx)("div",{style:{padding:12,boxSizing:"border-box"},children:(0,e.jsx)(v.Z,{form:y,size:"small",layout:"vertical",children:f(n.componentType)})})},Le=Ne,ze=function(o){var n=o.curComponent,d=o.setCurComponent,t=[{key:"form",label:"\u7EC4\u4EF6\u914D\u7F6E",children:(0,e.jsx)(Le,{curComponent:n,setCurComponent:d})},{key:"chart",label:"\u6574\u4F53\u914D\u7F6E",children:"Tab 2 content"}];return(0,e.jsx)("div",{className:xe.container,style:{width:L},children:(0,e.jsx)(V.Z,{items:t})})},Be=ze,Pe=r(59739),Re=function(){var o=(0,k.useState)([]),n=F()(o,2),d=n[0],t=n[1],p=(0,k.useState)(null),y=F()(p,2),l=y[0],f=y[1],g=v.Z.useForm(),b=F()(g,1),A=b[0],E=function(m,s){var x=window.innerWidth-L*2,h=m.clientX-L,j=Math.ceil(h/x*H);if(j>0&&j<=H){var I,c,T={x:j,y:0,w:6,h:3,id:(0,Pe.Z)(),componentCategory:s.componentCategory,componentType:s.value,type:s.type,resizeHandles:[],customStyle:{},props:((I=O[s.value])===null||I===void 0?void 0:I.props)||{},customAttr:((c=O[s.value])===null||c===void 0?void 0:c.customAttr)||{}};f(T)}};return(0,k.useEffect)(function(){t(l?function(i){var m=i.some(function(s){return s.id===l.id});return m?i.map(function(s){return s.id===l.id?a()(a()({},l),{},{i:l.id,resizeHandles:G}):a()(a()({},s),{},{resizeHandles:[]})}):[].concat(R()(i.map(function(s){return a()(a()({},s),{},{resizeHandles:[]})})),[a()(a()({},l),{},{i:l.id,resizeHandles:G})])}:function(i){return i.map(function(m){return a()(a()({},m),{},{resizeHandles:[]})})})},[l]),(0,e.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex"},children:[(0,e.jsx)(ie,{handleComponentDragEnd:E}),(0,e.jsx)(ye,{layout:d,setLayout:t,curComponent:l,setCurComponent:f,form:A}),(0,e.jsx)(Be,{curComponent:l,setCurComponent:f},l==null?void 0:l.id)]})},He=Re}}]);
