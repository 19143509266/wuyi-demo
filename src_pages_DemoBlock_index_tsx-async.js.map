{"version":3,"sources":["node_modules/.pnpm/ahooks@3.8.1_react@18.3.1/node_modules/ahooks/es/utils/lodash-polyfill.js","src/utils/index.ts","node_modules/.pnpm/ahooks@3.8.1_react@18.3.1/node_modules/ahooks/es/useLatest/index.js","node_modules/.pnpm/ahooks@3.8.1_react@18.3.1/node_modules/ahooks/es/utils/index.js","node_modules/.pnpm/ahooks@3.8.1_react@18.3.1/node_modules/ahooks/es/useUnmount/index.js","src/hooks/useDebounceResize.ts","node_modules/.pnpm/ahooks@3.8.1_react@18.3.1/node_modules/ahooks/es/useDebounceFn/index.js","src/components/MyTabs/index.tsx","src/pages/DemoBlock/index.tsx"],"sourcesContent":["import debounce from 'lodash/debounce';\nfunction isNodeOrWeb() {\n  var freeGlobal = (typeof global === 'undefined' ? 'undefined' : typeof global) == 'object' && global && global.Object === Object && global;\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n  return freeGlobal || freeSelf;\n}\nif (!isNodeOrWeb()) {\n  global.Date = Date;\n}\nexport { debounce };","export const getMargin = (element: HTMLElement) => {\n  if (element) {\n    const style = getComputedStyle(element)\n    const marginTop = parseFloat(style.marginTop)\n    const marginBottom = parseFloat(style.marginBottom)\n    return marginTop + marginBottom\n  }\n  return 0\n}\n","import { useRef } from 'react';\nfunction useLatest(value) {\n  var ref = useRef(value);\n  ref.current = value;\n  return ref;\n}\nexport default useLatest;","export var isObject = function (value) {\n  return value !== null && typeof value === 'object';\n};\nexport var isFunction = function (value) {\n  return typeof value === 'function';\n};\nexport var isString = function (value) {\n  return typeof value === 'string';\n};\nexport var isBoolean = function (value) {\n  return typeof value === 'boolean';\n};\nexport var isNumber = function (value) {\n  return typeof value === 'number';\n};\nexport var isUndef = function (value) {\n  return typeof value === 'undefined';\n};","import { useEffect } from 'react';\nimport useLatest from '../useLatest';\nimport { isFunction } from '../utils';\nimport isDev from '../utils/isDev';\nvar useUnmount = function (fn) {\n  if (isDev) {\n    if (!isFunction(fn)) {\n      console.error(\"useUnmount expected parameter is a function, got \".concat(typeof fn));\n    }\n  }\n  var fnRef = useLatest(fn);\n  useEffect(function () {\n    return function () {\n      fnRef.current();\n    };\n  }, []);\n};\nexport default useUnmount;","import { useDebounceFn } from 'ahooks'\nimport { useEffect } from 'react'\n\nexport const useDebounceResize = ({\n  resizeFn,\n  containerRef,\n  deptParams,\n  wait = 200\n}: {\n  resizeFn: any\n  containerRef: any\n  deptParams: any[]\n  wait?: number\n}) => {\n  const { run } = useDebounceFn(resizeFn, { wait })\n\n  useEffect(() => {\n    const observer = new ResizeObserver(() => run())\n    const mutationObserver = new MutationObserver(run)\n\n    const container = containerRef.current\n    if (container) {\n      observer.observe(container)\n      mutationObserver.observe(container, { childList: true, subtree: true })\n    }\n\n    run()\n\n    return () => {\n      if (container) {\n        observer.unobserve(container)\n        mutationObserver.disconnect()\n      }\n    }\n  }, [...deptParams, run])\n\n  return {}\n}\n","import { __read, __spreadArray } from \"tslib\";\nimport { debounce } from '../utils/lodash-polyfill';\nimport { useMemo } from 'react';\nimport useLatest from '../useLatest';\nimport useUnmount from '../useUnmount';\nimport { isFunction } from '../utils';\nimport isDev from '../utils/isDev';\nfunction useDebounceFn(fn, options) {\n  var _a;\n  if (isDev) {\n    if (!isFunction(fn)) {\n      console.error(\"useDebounceFn expected parameter is a function, got \".concat(typeof fn));\n    }\n  }\n  var fnRef = useLatest(fn);\n  var wait = (_a = options === null || options === void 0 ? void 0 : options.wait) !== null && _a !== void 0 ? _a : 1000;\n  var debounced = useMemo(function () {\n    return debounce(function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return fnRef.current.apply(fnRef, __spreadArray([], __read(args), false));\n    }, wait, options);\n  }, []);\n  useUnmount(function () {\n    debounced.cancel();\n  });\n  return {\n    run: debounced,\n    cancel: debounced.cancel,\n    flush: debounced.flush\n  };\n}\nexport default useDebounceFn;","import React, { useRef } from 'react'\nimport { Tabs, TabsProps } from 'antd'\nimport { getMargin } from '@/utils'\nimport { useDebounceResize } from '@/hooks/useDebounceResize'\n\ntype Props = TabsProps & {\n  autoFitContent?: boolean\n}\n\nconst Index: React.FC<Props> = props => {\n  const { autoFitContent, ...myTabsProps } = props\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  // 防抖函数\n  const handleResize = () => {\n    if (autoFitContent) {\n      const container = containerRef.current\n      if (container) {\n        const tabs = container.querySelector('.ant-tabs-nav') as HTMLElement\n        const tabsHeight = tabs ? tabs.clientHeight + getMargin(tabs) : 0\n        const newHeight = container.clientHeight - tabsHeight\n        const antTabsContentBody: HTMLElement | null = container.querySelector('.ant-tabs-content')\n        if (antTabsContentBody) {\n          antTabsContentBody.style.height = `${newHeight}px`\n          antTabsContentBody.style.overflow = 'auto'\n        }\n      }\n    }\n  }\n  if (autoFitContent) {\n    useDebounceResize({ resizeFn: handleResize, containerRef, deptParams: [autoFitContent] })\n  }\n\n  return (\n    <div ref={containerRef} style={{ width: '100%', height: '100%' }}>\n      <Tabs {...myTabsProps} />\n    </div>\n  )\n}\n\nexport default Index\n","import React from 'react'\nimport MyTabs from '@/components/MyTabs'\n\nconst Index = () => {\n  const content = Array(200)\n    .fill(1)\n    .map(item => (\n      <div key={item} style={{ width: 100, height: 100, background: '#ccc' }}>\n        {item}\n      </div>\n    ))\n\n  const items = [\n    {\n      key: '1',\n      label: 'Tab 1',\n      children: <div style={{ display: 'flex', flexWrap: 'wrap', gap: 10 }}>{content}</div>\n    },\n    {\n      key: '2',\n      label: 'Tab 2',\n      children: 'Content of Tab Pane 2'\n    },\n    {\n      key: '3',\n      label: 'Tab 3',\n      children: 'Content of Tab Pane 3'\n    }\n  ]\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}\n    >\n      <MyTabs items={items} style={{ width: '100%', height: '100%' }} />\n    </div>\n  )\n}\n\nexport default Index\n"],"names":[],"mappings":"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"}