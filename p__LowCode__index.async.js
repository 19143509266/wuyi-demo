"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12],{7992:function(Me,B,i){i.r(B),i.d(B,{default:function(){return Ve}});var X=i(15558),R=i.n(X),M=i(26068),l=i.n(M),J=i(48305),Z=i.n(J),A=i(75271),K={container:"container___zfp_d"},O=i(99275),Q=i(8212),N={container:"container___v4ahw",groupTitle:"groupTitle___EOhGN",divider:"divider___pP60E",componentGroup:"componentGroup___FFg_d",componentItem:"componentItem___JLfXp"},n=i(52676),$=[{key:"general",title:"\u901A\u7528",components:[{label:"\u6309\u94AE",value:"Button",type:"button"},{label:"\u56FE\u6807",value:"Icon",type:"icon"}]},{key:"layout",title:"\u5E03\u5C40",components:[{label:"\u5206\u5272\u7EBF",value:"Divider",type:"layout"}]},{key:"data-entry",title:"\u6570\u636E\u5F55\u5165",components:[{label:"\u7EA7\u8054\u9009\u62E9",value:"Cascader",type:"form-item"},{label:"\u591A\u9009\u6846",value:"Checkbox",type:"form-item"},{label:"\u65E5\u671F\u9009\u62E9\u6846",value:"DatePicker",type:"form-item"},{label:"\u8F93\u5165\u6846",value:"Input",type:"form-item"},{label:"\u6570\u5B57\u8F93\u5165\u6846",value:"InputNumber",type:"form-item"},{label:"\u5355\u9009\u6846",value:"Radio",type:"form-item"},{label:"\u8BC4\u5206",value:"Rate",type:"form-item"},{label:"\u9009\u62E9\u5668",value:"Select",type:"form-item"},{label:"\u6ED1\u52A8\u8F93\u5165\u6761",value:"Slider",type:"form-item"},{label:"\u5F00\u5173",value:"Switch",type:"form-item"},{label:"\u65F6\u95F4\u9009\u62E9\u6846",value:"TimePicker",type:"form-item"},{label:"\u6811\u9009\u62E9",value:"TreeSelect",type:"form-item"},{label:"\u4E0A\u4F20",value:"Upload",type:"form-item"}]},{key:"data-display",title:"\u6570\u636E\u5C55\u793A",components:[{label:"\u5934\u50CF",value:"Avatar",type:"data-display"},{label:"\u5FBD\u6807\u6570",value:"Badge",type:"data-display"},{label:"\u65E5\u5386",value:"Calendar",type:"data-display"},{label:"\u5361\u7247",value:"Card",type:"data-display"},{label:"\u8D70\u9A6C\u706F",value:"Carousel",type:"data-display"},{label:"\u6298\u53E0\u9762\u677F",value:"Collapse",type:"data-display"},{label:"\u63CF\u8FF0\u5217\u8868",value:"Descriptions",type:"data-display"},{label:"\u7A7A\u72B6\u6001",value:"Empty",type:"data-display"},{label:"\u56FE\u7247",value:"Image",type:"data-display"},{label:"\u5217\u8868",value:"List",type:"data-display"},{label:"\u6C14\u6CE1\u5361\u7247",value:"Popover",type:"data-display"},{label:"\u4E8C\u7EF4\u7801",value:"QRCode",type:"data-display"},{label:"\u5206\u6BB5\u63A7\u5236\u5668",value:"Segmented",type:"data-display"},{label:"\u7EDF\u8BA1\u6570\u503C",value:"Statistic",type:"data-display"},{label:"\u8868\u683C",value:"Table",type:"data-display"},{label:"\u6807\u7B7E\u9875",value:"Tabs",type:"data-display"},{label:"\u6807\u7B7E",value:"Tag",type:"data-display"},{label:"\u65F6\u95F4\u8F74",value:"Timeline",type:"data-display"},{label:"\u6587\u5B57\u63D0\u793A",value:"Tooltip",type:"data-display"},{label:"\u6F2B\u6E38\u5F0F\u5F15\u5BFC",value:"Tour",type:"data-display"},{label:"\u6811\u5F62\u63A7\u4EF6",value:"Tree",type:"data-display"}]}],Y=function(e){var a=e.handleComponentDragEnd;return(0,n.jsx)("div",{className:N.container,children:$.map(function(o){return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:N.groupTitle,children:o.title}),(0,n.jsx)(Q.Z,{className:N.divider}),(0,n.jsx)("div",{className:N.componentGroup,children:o.components.map(function(t){return(0,n.jsx)("div",{className:N.componentItem,draggable:!0,onDragEnd:function(d){return a(d,l()(l()({},t),{},{componentCategory:"form"}))},children:t.label},t.value)})})]},o.key)})})},q=Y,L=260,P=12,_=30,H=["s","w","e","n","sw","nw","se","ne"],ee=[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u4E3B\u8981",value:"primary"},{label:"\u865A\u7EBF",value:"dashed"},{label:"\u94FE\u63A5",value:"link"},{label:"\u6587\u5B57",value:"text"}],ne=[{label:"\u5F53\u524D\u7A97\u53E3",value:"_self"},{label:"\u65B0\u7A97\u53E3",value:"_blank"}],ae=[{label:"\u5927",value:"large"},{label:"\u4E2D",value:"middle"},{label:"\u5C0F",value:"small"}],te=[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u5706\u5F62",value:"circle"},{label:"\u5706\u89D2",value:"round"}],G={Button:{props:{block:!0,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,iconPosition:"start",shape:"default",size:"middle",target:"_blank",type:"default"},customAttr:{label:"\u6309 \u94AE",event:null},configItems:[{type:"input",label:"\u540D\u79F0",name:"name",attr:"props"},{type:"select",label:"\u6309\u94AE\u7C7B\u578B",name:"type",options:ee,attr:"props"},{type:"switch",label:"\u5371\u9669",name:"danger",attr:"props"},{type:"input",label:"\u94FE\u63A5",name:"href",attr:"props"},{type:"radio",label:"\u6253\u5F00\u65B9\u5F0F",name:"target",options:ne,attr:"props"},{type:"radio",label:"\u6309\u94AE\u5927\u5C0F",name:"size",options:ae,attr:"props"},{type:"radio",label:"\u6309\u94AE\u5F62\u72B6",name:"shape",options:te,attr:"props"},{type:"radio",label:"\u4E8B\u4EF6",name:"event",options:[{label:"\u63D0\u4EA4\u8868\u5355",value:"submit"},{label:"\u91CD\u7F6E\u8868\u5355",value:"reset"}],attr:"customAttr"}]},Cascader:{props:{options:[{label:"\u9009\u98791",value:"1",key:"1",children:[{label:"\u9009\u98791-1",value:"1-1",key:"1-1",children:[]}]}],placeholder:"\u8BF7\u9009\u62E9",showSearch:!1,multiple:!1,expandTrigger:"click"},customAttr:{dataMode:"static",label:"Cascader"},configItems:[{type:"radio",label:"",name:"dataMode",options:[{label:"\u9759\u6001\u6570\u636E",value:"static"},{label:"\u52A8\u6001\u6570\u636E",value:"dynamic"}],attr:"customAttr"},{type:"tree",name:"options"},{type:"input",label:"\u540D\u79F0",name:"label",attr:"customAttr"},{type:"input",label:"\u5360\u4F4D\u7B26",name:"placeholder",attr:"props"},{type:"switch",label:"\u641C\u7D22",name:"showSearch",attr:"props"},{type:"switch",label:"\u591A\u9009",name:"multiple",attr:"props"},{type:"radio",label:"\u6B21\u7EA7\u83DC\u5355\u5C55\u5F00\u65B9\u5F0F",name:"expandTrigger",options:[{label:"\u70B9\u51FB",value:"click"},{label:"\u79FB\u5165",value:"hover"}],attr:"props"}]}},le=function(e){var a=e.handleComponentDragEnd,o=[{key:"form",label:"\u8868\u5355",children:(0,n.jsx)(q,{handleComponentDragEnd:a})},{key:"chart",label:"\u56FE\u8868",children:"Tab 2 content"}];return(0,n.jsx)("div",{className:K.container,style:{width:L},children:(0,n.jsx)(O.Z,{items:o})})},oe=le,b={container:"container___VTM4x","grid-item":"grid-item___NAIDX","grid-item-content":"grid-item-content___OX_bK","drag-handle":"drag-handle___iG4GC",top:"top___LbvRG",bottom:"bottom___QlbNI",left:"left___cbULG",right:"right___Jnp8w"},re=i(62288),ie=i.n(re),se=i(76522),f=i(35048),de={container:"container___2UBTL"},ue=function(e){var a=e.componentItem,o=e.form,t=se[a.componentType];if(!t)return(0,n.jsxs)("div",{children:["Invalid component type: ",a.componentType]});var s=function(){var c,u=a==null||(c=a.customAttr)===null||c===void 0?void 0:c.event;switch(u){case"submit":o.validateFields().then(function(C){console.log("Form values:",C)});break;case"reset":o.resetFields();break}},d=function(c){var u,C;switch(c){case"form-item":return(0,n.jsx)(f.Z.Item,{name:a.i,label:a==null||(u=a.customAttr)===null||u===void 0?void 0:u.label,children:(0,n.jsx)(t,l()({},a.props))});case"button":return(0,n.jsx)(f.Z.Item,{children:(0,n.jsx)(t,l()(l()({},a.props),{},{onClick:s,children:(a==null||(C=a.customAttr)===null||C===void 0?void 0:C.label)||""}))});case"layout":return(0,n.jsx)(f.Z.Item,{children:(0,n.jsx)(t,l()({},a.props))});case"data-display":return(0,n.jsx)(f.Z.Item,{children:(0,n.jsx)(t,l()({},a.props))});default:return(0,n.jsx)("div",{children:"Invalid component type:"})}};return(0,n.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center"},className:de.container,children:d(a.type)})},ce=ue,D=i(99452),ve={"container-fluid":"container-fluid___dR0V0"},me=function(e){var a=e.componentItem,o=e.handleEditComponent;return(0,n.jsx)("div",{className:ve["container-fluid"],children:(0,n.jsx)(D.Z,{style:{cursor:"pointer"},onClick:function(s){s.stopPropagation(),o(a,"delete")}})})},pe=me,he=function(e){var a=e.layout,o=e.setLayout,t=e.curComponent,s=e.setCurComponent,d=e.form,r=(0,A.useState)(window.innerWidth-520),c=Z()(r,2),u=c[0],C=c[1];(0,A.useEffect)(function(){var v=function(){return C(window.innerWidth-520)};return window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}},[]);var F=function(y){o(function(p){return p.map(function(x){var g=y.find(function(S){return S.i===x.i});if(g){var T=l()(l()({},x),{},{x:g.x,y:g.y,h:g.h,w:g.w,resizeHandles:(t==null?void 0:t.id)===x.i?H:x.resizeHandles});return T.i===(t==null?void 0:t.id)&&s(T),T}return x})})},E=function(y,p){switch(p){case"delete":s(null),o(function(x){return x.filter(function(g){return g.id!==y.id})});break}};return(0,n.jsx)("div",{className:b.container,style:{width:"calc(100% - ".concat(L*2,"px)")},children:(0,n.jsx)(f.Z,{form:d,children:(0,n.jsx)(ie(),{className:"layout",layout:a,cols:P,rowHeight:_,width:u,onLayoutChange:F,draggableHandle:".".concat(b["drag-handle"]),children:a.map(function(v){return(0,n.jsxs)("div",{style:{background:"#e6f7ff"},onClick:function(p){p.stopPropagation(),s(v)},children:[(t==null?void 0:t.id)===v.i&&(0,n.jsx)(pe,{componentItem:v,handleEditComponent:E}),(0,n.jsxs)("div",{className:b["grid-item"],style:(t==null?void 0:t.id)===v.i?{outline:"1px solid #70c0ff"}:{},children:[(0,n.jsx)("div",{className:"".concat(b["drag-handle"]," ").concat(b.top)}),(0,n.jsx)("div",{className:"".concat(b["drag-handle"]," ").concat(b.bottom)}),(0,n.jsx)("div",{className:"".concat(b["drag-handle"]," ").concat(b.left)}),(0,n.jsx)("div",{className:"".concat(b["drag-handle"]," ").concat(b.right)}),(0,n.jsx)("div",{className:b["grid-item-content"],children:(0,n.jsx)(ce,{componentItem:v,form:d})})]})]},v.id)})})})})},fe=he,ye={container:"container___Ofx95"},Ce=i(82092),W=i.n(Ce),w=i(58482),be=i(8211),ge=i(10491),xe=i(2309),je=i(20029),Ie=i(79341),Te=i(92430),Se=i(55206),Ze=i(81347),Ae=i(78196),Fe=i(34900);function U(m,e,a){var o=function t(s,d){return s.some(function(r){return r.key===d||r.children&&t(r.children,d)})};return o(m,a.key)?(Fe.ZP.error("key \u5DF2\u7ECF\u5B58\u5728\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165"),m):e===null?[].concat(R()(m),[a]):m.map(function(t){return t.key===e?l()(l()({},t),{},{children:[].concat(R()(t.children||[]),[a])}):t.children?l()(l()({},t),{},{children:U(t.children,e,a)}):t})}function V(m,e){return m.filter(function(a){return a.key!==e}).map(function(a){return l()(l()({},a),{},{children:a.children?V(a.children,e):[]})})}var Ee=function(e){var a=e.options,o=e.setCurComponent,t=(0,A.useState)(!1),s=Z()(t,2),d=s[0],r=s[1],c=(0,A.useState)(null),u=Z()(c,2),C=u[0],F=u[1],E=f.Z.useForm(),v=Z()(E,1),y=v[0],p=function(){F(null),r(!0)},x=function(h){return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[h==null?void 0:h.label,"(key: ",h==null?void 0:h.key,")"]}),(0,n.jsxs)(je.Z,{children:[(0,n.jsx)(Ze.Z,{onClick:function(j){j.stopPropagation(),F(h==null?void 0:h.key),r(!0)}}),(0,n.jsx)(D.Z,{onClick:function(j){j.stopPropagation(),o(function(I){if(I){var z,Xe=V((I==null||(z=I.props)===null||z===void 0?void 0:z.options)||[],h==null?void 0:h.key);return l()(l()({},I),{},{props:l()(l()({},I.props),{},{options:Xe})})}return null})}})]})]})},g=function(){y.resetFields(),r(!1)},T=function(){y.validateFields().then(function(h){var k=l()(l()({},h),{},{key:h.value,children:[]});o(function(j){if(j){var I,z=U((j==null||(I=j.props)===null||I===void 0?void 0:I.options)||[],C,k);return l()(l()({},j),{},{props:l()(l()({},j.props),{},{options:z})})}return null}),g()})};return(0,n.jsxs)("div",{children:[(a==null?void 0:a.length)===0?(0,n.jsx)("div",{style:{textAlign:"center"},children:"\u6682\u65E0\u6570\u636E"}):(0,n.jsx)(Ie.Z,{treeData:a,blockNode:!0,showLine:!0,titleRender:x,defaultExpandAll:!0}),(0,n.jsx)(Te.ZP,{type:"link",size:"small",icon:(0,n.jsx)(Ae.Z,{}),onClick:p,children:"\u6DFB\u52A0"}),(0,n.jsx)(Se.Z,{title:"\u6DFB\u52A0\u6570\u636E",open:d,onCancel:g,onOk:T,centered:!0,children:(0,n.jsxs)(f.Z,{form:y,children:[(0,n.jsx)(f.Z.Item,{label:"label",name:"label",rules:[{required:!0,message:"\u8BF7\u8F93\u5165label"}],children:(0,n.jsx)(w.Z,{})}),(0,n.jsx)(f.Z.Item,{label:"value",name:"value",rules:[{required:!0,message:"\u8BF7\u8F93\u5165value"}],children:(0,n.jsx)(w.Z,{})})]})})]})},Ne=Ee,Le=function(e){var a=e.label,o=e.name,t=e.value,s=e.onChange;return(0,n.jsx)(f.Z.Item,{label:a,name:o,initialValue:t,children:(0,n.jsx)(w.Z,{onChange:function(r){return s(r.target.value)}})})},ke=function(e){var a=e.label,o=e.name,t=e.value,s=e.options,d=e.onChange;return(0,n.jsx)(f.Z.Item,{label:a,name:o,initialValue:t,children:(0,n.jsx)(be.default,{options:s,onChange:function(c){return d(c)}})})},ze=function(e){var a=e.label,o=e.name,t=e.value,s=e.onChange;return(0,n.jsx)(f.Z.Item,{label:a,name:o,initialValue:t,layout:"horizontal",children:(0,n.jsx)(ge.Z,{onChange:function(r){return s(r)}})})},Re=function(e){var a=e.label,o=e.name,t=e.value,s=e.options,d=e.onChange;return(0,n.jsx)(f.Z.Item,{label:a,name:o,initialValue:t,children:(0,n.jsx)(xe.ZP.Group,{options:s,onChange:function(c){return d(c.target.value)}})})},Pe=function(e,a,o,t){var s,d;if(e.type!=="tree"){var r;d=a==null||(r=a[e.attr])===null||r===void 0?void 0:r[e.name]}switch(e.type){case"input":return(0,n.jsx)(Le,{label:e.label,name:e.name,value:d,onChange:function(u){return o(e.attr,e.name,u)}});case"select":return(0,n.jsx)(ke,{label:e.label,name:e.name,value:d,options:e.options,onChange:function(u){return o(e.attr,e.name,u)}});case"switch":return(0,n.jsx)(ze,{label:e.label,name:e.name,value:d,onChange:function(u){return o(e.attr,e.name,u)}});case"radio":return(0,n.jsx)(Re,{label:e.label,name:e.name,value:d,options:e.options,onChange:function(u){return o(e.attr,e.name,u)}});case"tree":return(0,n.jsx)(Ne,{options:a==null||(s=a.props)===null||s===void 0?void 0:s.options,setCurComponent:t});default:return null}},He=function(e){var a=e.curComponent,o=e.setCurComponent;if(!a)return null;var t=f.Z.useForm(),s=Z()(t,1),d=s[0],r=(0,A.useMemo)(function(){var u;return((u=G[a.componentType])===null||u===void 0?void 0:u.configItems)||[]},[a]),c=function(C,F,E){o(function(v){return v?l()(l()({},v),{},W()({},C,l()(l()({},v[C]),{},W()({},F,E)))):null})};return(0,n.jsx)("div",{style:{padding:12,boxSizing:"border-box"},children:(0,n.jsx)(f.Z,{form:d,size:"small",layout:"vertical",children:r.map(function(u){return(0,n.jsx)("div",{children:Pe(u,a,c,o)},u.name)})})})},Ge=He,we=function(e){var a=e.curComponent,o=e.setCurComponent,t=[{key:"form",label:"\u7EC4\u4EF6\u914D\u7F6E",children:(0,n.jsx)(Ge,{curComponent:a,setCurComponent:o})},{key:"chart",label:"\u6574\u4F53\u914D\u7F6E",children:"Tab 2 content"}];return(0,n.jsx)("div",{className:ye.container,style:{width:L},children:(0,n.jsx)(O.Z,{items:t})})},Be=we,Oe=i(59739),De=i(18626),We=i(98721),Je=i(64134),Ke=i(54949),Ue=function(){var e=(0,A.useState)([]),a=Z()(e,2),o=a[0],t=a[1],s=(0,A.useState)(null),d=Z()(s,2),r=d[0],c=d[1],u=f.Z.useForm(),C=Z()(u,1),F=C[0],E=function(y,p){var x=window.innerWidth-L*2,g=y.clientX-L,T=Math.ceil(g/x*P);if(T>0&&T<=P){var S,h,k={x:T,y:0,w:6,h:3,id:(0,Oe.Z)(),componentCategory:p.componentCategory,componentType:p.value,type:p.type,resizeHandles:[],customStyle:{},props:((S=G[p.value])===null||S===void 0?void 0:S.props)||{},customAttr:((h=G[p.value])===null||h===void 0?void 0:h.customAttr)||{}};c(k)}};return(0,A.useEffect)(function(){t(r?function(v){var y=v.some(function(p){return p.id===r.id});return y?v.map(function(p){return p.id===r.id?l()(l()({},r),{},{i:r.id,resizeHandles:H}):l()(l()({},p),{},{resizeHandles:[]})}):[].concat(R()(v.map(function(p){return l()(l()({},p),{},{resizeHandles:[]})})),[l()(l()({},r),{},{i:r.id,resizeHandles:H})])}:function(v){return v.map(function(y){return l()(l()({},y),{},{resizeHandles:[]})})})},[r]),(0,n.jsx)("div",{style:{width:"100%",height:"100%",display:"flex"},children:(0,n.jsxs)(De.ZP,{locale:We.Z,children:[(0,n.jsx)(oe,{handleComponentDragEnd:E}),(0,n.jsx)(fe,{layout:o,setLayout:t,curComponent:r,setCurComponent:c,form:F}),(0,n.jsx)(Be,{curComponent:r,setCurComponent:c},r==null?void 0:r.id)]})})},Ve=Ue}}]);
