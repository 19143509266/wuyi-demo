"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12],{7590:function(Ve,D,o){o.r(D),o.d(D,{default:function(){return $e}});var J=o(15558),R=o.n(J),K=o(26068),a=o.n(K),M=o(48305),F=o.n(M),N=o(75271),Q={container:"container___zfp_d"},V=o(99275),Y=o(8212),z={container:"container___v4ahw",groupTitle:"groupTitle___EOhGN",divider:"divider___pP60E",componentGroup:"componentGroup___FFg_d",componentItem:"componentItem___JLfXp"},e=o(52676),q=[{key:"general",title:"\u901A\u7528",components:[{label:"\u6309\u94AE",value:"Button",type:"button"},{label:"\u56FE\u6807",value:"Icon",type:"icon"}]},{key:"layout",title:"\u5E03\u5C40",components:[{label:"\u5206\u5272\u7EBF",value:"Divider",type:"layout"}]},{key:"data-entry",title:"\u6570\u636E\u5F55\u5165",components:[{label:"\u7EA7\u8054\u9009\u62E9",value:"Cascader",type:"form-item"},{label:"\u591A\u9009\u6846",value:"Checkbox",type:"form-item"},{label:"\u65E5\u671F\u9009\u62E9\u6846",value:"DatePicker",type:"form-item"},{label:"\u8F93\u5165\u6846",value:"Input",type:"form-item"},{label:"\u6570\u5B57\u8F93\u5165\u6846",value:"InputNumber",type:"form-item"},{label:"\u5355\u9009\u6846",value:"Radio",type:"form-item"},{label:"\u8BC4\u5206",value:"Rate",type:"form-item"},{label:"\u9009\u62E9\u5668",value:"Select",type:"form-item"},{label:"\u6ED1\u52A8\u8F93\u5165\u6761",value:"Slider",type:"form-item"},{label:"\u5F00\u5173",value:"Switch",type:"form-item"},{label:"\u65F6\u95F4\u9009\u62E9\u6846",value:"TimePicker",type:"form-item"},{label:"\u6811\u9009\u62E9",value:"TreeSelect",type:"form-item"},{label:"\u4E0A\u4F20",value:"Upload",type:"form-item"}]},{key:"data-display",title:"\u6570\u636E\u5C55\u793A",components:[{label:"\u5934\u50CF",value:"Avatar",type:"data-display"},{label:"\u5FBD\u6807\u6570",value:"Badge",type:"data-display"},{label:"\u65E5\u5386",value:"Calendar",type:"data-display"},{label:"\u5361\u7247",value:"Card",type:"data-display"},{label:"\u8D70\u9A6C\u706F",value:"Carousel",type:"data-display"},{label:"\u6298\u53E0\u9762\u677F",value:"Collapse",type:"data-display"},{label:"\u63CF\u8FF0\u5217\u8868",value:"Descriptions",type:"data-display"},{label:"\u7A7A\u72B6\u6001",value:"Empty",type:"data-display"},{label:"\u56FE\u7247",value:"Image",type:"data-display"},{label:"\u5217\u8868",value:"List",type:"data-display"},{label:"\u6C14\u6CE1\u5361\u7247",value:"Popover",type:"data-display"},{label:"\u4E8C\u7EF4\u7801",value:"QRCode",type:"data-display"},{label:"\u5206\u6BB5\u63A7\u5236\u5668",value:"Segmented",type:"data-display"},{label:"\u7EDF\u8BA1\u6570\u503C",value:"Statistic",type:"data-display"},{label:"\u8868\u683C",value:"Table",type:"data-display"},{label:"\u6807\u7B7E\u9875",value:"Tabs",type:"data-display"},{label:"\u6807\u7B7E",value:"Tag",type:"data-display"},{label:"\u65F6\u95F4\u8F74",value:"Timeline",type:"data-display"},{label:"\u6587\u5B57\u63D0\u793A",value:"Tooltip",type:"data-display"},{label:"\u6F2B\u6E38\u5F0F\u5F15\u5BFC",value:"Tour",type:"data-display"},{label:"\u6811\u5F62\u63A7\u4EF6",value:"Tree",type:"data-display"}]}],_=function(r){var n=r.handleComponentDragEnd;return(0,e.jsx)("div",{className:z.container,children:q.map(function(u){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:z.groupTitle,children:u.title}),(0,e.jsx)(Y.Z,{className:z.divider}),(0,e.jsx)("div",{className:z.componentGroup,children:u.components.map(function(t){return(0,e.jsx)("div",{className:z.componentItem,draggable:!0,onDragEnd:function(f){return n(f,a()(a()({},t),{},{componentCategory:"form"}))},children:t.label},t.value)})})]},u.key)})})},ee=_,L=260,H=12,ne=30,G=["s","w","e","n","sw","nw","se","ne"],O={Button:{props:{block:!0,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,iconPosition:"start",shape:"default",size:"middle",target:"_blank",type:"default"},customAttr:{label:"\u6309 \u94AE",event:null}},Cascader:{props:{options:[{label:"\u9009\u98791",value:"1",key:"1",children:[{label:"\u9009\u98791-1",value:"1-1",key:"1-1",children:[]}]}]},customAttr:{dataMode:"static"}}},te=[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u4E3B\u8981",value:"primary"},{label:"\u865A\u7EBF",value:"dashed"},{label:"\u94FE\u63A5",value:"link"},{label:"\u6587\u5B57",value:"text"}],ae=[{label:"\u5F53\u524D\u7A97\u53E3",value:"_self"},{label:"\u65B0\u7A97\u53E3",value:"_blank"}],le=[{label:"\u5927",value:"large"},{label:"\u4E2D",value:"middle"},{label:"\u5C0F",value:"small"}],oe=[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u5706\u5F62",value:"circle"},{label:"\u5706\u89D2",value:"round"}],re=function(r){var n=r.handleComponentDragEnd,u=[{key:"form",label:"\u8868\u5355",children:(0,e.jsx)(ee,{handleComponentDragEnd:n})},{key:"chart",label:"\u56FE\u8868",children:"Tab 2 content"}];return(0,e.jsx)("div",{className:Q.container,style:{width:L},children:(0,e.jsx)(V.Z,{items:u})})},ie=re,Z={container:"container___VTM4x","grid-item":"grid-item___NAIDX","grid-item-content":"grid-item-content___OX_bK","drag-handle":"drag-handle___iG4GC",top:"top___LbvRG",bottom:"bottom___QlbNI",left:"left___cbULG",right:"right___Jnp8w"},de=o(62288),ue=o.n(de),se=o(76522),v=o(35048),ce={container:"container___2UBTL"},ve=function(r){var n=r.componentItem,u=r.form,t=se[n.componentType];if(!t)return(0,e.jsxs)("div",{children:["Invalid component type: ",n.componentType]});var p=function(){var h,g=n==null||(h=n.customAttr)===null||h===void 0?void 0:h.event;switch(g){case"submit":u.validateFields().then(function(b){console.log("Form values:",b)});break;case"reset":u.resetFields();break}},f=function(h){var g;switch(h){case"form-item":return(0,e.jsx)(v.Z.Item,{name:n.i,label:n.componentType,children:(0,e.jsx)(t,a()({},n.props))});case"button":return(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(t,a()(a()({},n.props),{},{onClick:p,children:(n==null||(g=n.customAttr)===null||g===void 0?void 0:g.label)||""}))});case"layout":return(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(t,a()({},n.props))});case"data-display":return(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(t,a()({},n.props))});default:return(0,e.jsx)("div",{children:"Invalid component type:"})}};return(0,e.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center"},className:ce.container,children:f(n.type)})},me=ve,W=o(99452),pe={"container-fluid":"container-fluid___dR0V0"},fe=function(r){var n=r.componentItem,u=r.handleEditComponent;return(0,e.jsx)("div",{className:pe["container-fluid"],children:(0,e.jsx)(W.Z,{style:{cursor:"pointer"},onClick:function(p){p.stopPropagation(),u(n,"delete")}})})},he=fe,Ce=function(r){var n=r.layout,u=r.setLayout,t=r.curComponent,p=r.setCurComponent,f=r.form,l=(0,N.useState)(window.innerWidth-520),h=F()(l,2),g=h[0],b=h[1];(0,N.useEffect)(function(){var i=function(){return b(window.innerWidth-520)};return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}},[]);var A=function(m){u(function(s){return s.map(function(x){var C=m.find(function(I){return I.i===x.i});if(C){var j=a()(a()({},x),{},{x:C.x,y:C.y,h:C.h,w:C.w,resizeHandles:(t==null?void 0:t.id)===x.i?G:x.resizeHandles});return j.i===(t==null?void 0:t.id)&&p(j),j}return x})})},E=function(m,s){switch(s){case"delete":p(null),u(function(x){return x.filter(function(C){return C.id!==m.id})});break}};return(0,e.jsx)("div",{className:Z.container,style:{width:"calc(100% - ".concat(L*2,"px)")},children:(0,e.jsx)(v.Z,{form:f,children:(0,e.jsx)(ue(),{className:"layout",layout:n,cols:H,rowHeight:ne,width:g,onLayoutChange:A,draggableHandle:".".concat(Z["drag-handle"]),children:n.map(function(i){return(0,e.jsxs)("div",{style:{background:"#e6f7ff"},onClick:function(s){s.stopPropagation(),p(i)},children:[(t==null?void 0:t.id)===i.i&&(0,e.jsx)(he,{componentItem:i,handleEditComponent:E}),(0,e.jsxs)("div",{className:Z["grid-item"],style:(t==null?void 0:t.id)===i.i?{outline:"1px solid #70c0ff"}:{},children:[(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.top)}),(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.bottom)}),(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.left)}),(0,e.jsx)("div",{className:"".concat(Z["drag-handle"]," ").concat(Z.right)}),(0,e.jsx)("div",{className:Z["grid-item-content"],children:(0,e.jsx)(me,{componentItem:i,form:f})})]})]},i.id)})})})})},ye=Ce,xe={container:"container___Ofx95"},ge=o(82092),w=o.n(ge),P=o(58482),k=o(8211),be=o(10491),$=o(2309),je=o(20029),Ie=o(79341),Te=o(92430),Ze=o(55206),Ae=o(81347),Ee=o(78196),Se=o(34900);function U(y,r,n){var u=function t(p,f){return p.some(function(l){return l.key===f||l.children&&t(l.children,f)})};return u(y,n.key)?(Se.ZP.error("key \u5DF2\u7ECF\u5B58\u5728\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165"),y):r===null?[].concat(R()(y),[n]):y.map(function(t){return t.key===r?a()(a()({},t),{},{children:[].concat(R()(t.children||[]),[n])}):t.children?a()(a()({},t),{},{children:U(t.children,r,n)}):t})}function X(y,r){return y.filter(function(n){return n.key!==r}).map(function(n){return a()(a()({},n),{},{children:n.children?X(n.children,r):[]})})}var Fe=function(r){var n=r.options,u=r.setCurComponent,t=(0,N.useState)(!1),p=F()(t,2),f=p[0],l=p[1],h=(0,N.useState)(null),g=F()(h,2),b=g[0],A=g[1],E=v.Z.useForm(),i=F()(E,1),m=i[0],s=function(){A(null),l(!0)},x=function(c){return(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[c==null?void 0:c.label,"(key: ",c==null?void 0:c.key,")"]}),(0,e.jsxs)(je.Z,{children:[(0,e.jsx)(Ae.Z,{onClick:function(d){d.stopPropagation(),A(c==null?void 0:c.key),l(!0)}}),(0,e.jsx)(W.Z,{onClick:function(d){d.stopPropagation(),u(function(S){if(S){var B,De=X((S==null||(B=S.props)===null||B===void 0?void 0:B.options)||[],c==null?void 0:c.key);return a()(a()({},S),{},{props:a()(a()({},S.props),{},{options:De})})}return null})}})]})]})},C=function(){m.resetFields(),l(!1)},j=function(){m.validateFields().then(function(c){var T=a()(a()({},c),{},{key:c.value,children:[]});u(function(d){if(d){var S,B=U((d==null||(S=d.props)===null||S===void 0?void 0:S.options)||[],b,T);return a()(a()({},d),{},{props:a()(a()({},d.props),{},{options:B})})}return null}),C()})};return(0,e.jsxs)("div",{children:[(n==null?void 0:n.length)===0?(0,e.jsx)("div",{style:{textAlign:"center"},children:"\u6682\u65E0\u6570\u636E"}):(0,e.jsx)(Ie.Z,{treeData:n,blockNode:!0,showLine:!0,titleRender:x,defaultExpandAll:!0}),(0,e.jsx)(Te.ZP,{type:"link",size:"small",icon:(0,e.jsx)(Ee.Z,{}),onClick:s,children:"\u6DFB\u52A0"}),(0,e.jsx)(Ze.Z,{title:"\u6DFB\u52A0\u6570\u636E",open:f,onCancel:C,onOk:j,centered:!0,children:(0,e.jsxs)(v.Z,{form:m,children:[(0,e.jsx)(v.Z.Item,{label:"label",name:"label",rules:[{required:!0,message:"\u8BF7\u8F93\u5165label"}],children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(v.Z.Item,{label:"value",name:"value",rules:[{required:!0,message:"\u8BF7\u8F93\u5165value"}],children:(0,e.jsx)(P.Z,{})})]})})]})},Ne=Fe,ze=function(r){var n=r.curComponent,u=r.setCurComponent;if(!n)return null;var t=v.Z.useForm(),p=F()(t,1),f=p[0],l=function(b,A,E){u(function(i){return i?a()(a()({},i),{},w()({},b,a()(a()({},i[b]),{},w()({},A,E)))):null})},h=function(b){var A,E,i,m,s,x,C,j,I,c;switch(b){case"Button":return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z.Item,{label:"\u540D\u79F0",name:"name",initialValue:n==null||(A=n.customAttr)===null||A===void 0?void 0:A.label,children:(0,e.jsx)(P.Z,{onChange:function(d){return l("customAttr","label",d.target.value)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6309\u94AE\u7C7B\u578B",name:"type",initialValue:n==null||(E=n.props)===null||E===void 0?void 0:E.type,children:(0,e.jsx)(k.default,{options:te,onChange:function(d){return l("props","type",d)}})}),(0,e.jsx)(v.Z.Item,{label:"\u5371\u9669",name:"danger",initialValue:n==null||(i=n.props)===null||i===void 0?void 0:i.danger,children:(0,e.jsx)(be.Z,{onChange:function(d){return l("props","danger",d)}})}),(0,e.jsx)(v.Z.Item,{label:"\u94FE\u63A5",name:"href",initialValue:n==null||(m=n.props)===null||m===void 0?void 0:m.href,children:(0,e.jsx)(P.Z,{onChange:function(d){return l("props","href",d.target.value)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6253\u5F00\u65B9\u5F0F",name:"target",initialValue:n==null||(s=n.props)===null||s===void 0?void 0:s.target,children:(0,e.jsx)(k.default,{options:ae,onChange:function(d){return l("props","type",d)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6309\u94AE\u5927\u5C0F",name:"size",initialValue:n==null||(x=n.props)===null||x===void 0?void 0:x.size,children:(0,e.jsx)(k.default,{options:le,onChange:function(d){return l("props","size",d)}})}),(0,e.jsx)(v.Z.Item,{label:"\u6309\u94AE\u5F62\u72B6",name:"shape",initialValue:n==null||(C=n.props)===null||C===void 0?void 0:C.shape,children:(0,e.jsx)(k.default,{options:oe,onChange:function(d){return l("props","shape",d)}})}),(0,e.jsx)(v.Z.Item,{label:"\u4E8B\u4EF6",name:"event",initialValue:n==null||(j=n.customAttr)===null||j===void 0?void 0:j.event,children:(0,e.jsx)(k.default,{options:[{label:"\u63D0\u4EA4\u8868\u5355",value:"submit"},{label:"\u91CD\u7F6E\u8868\u5355",value:"reset"}],onChange:function(d){return l("customAttr","event",d)}})})]});case"Cascader":return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z.Item,{name:"dataMode",initialValue:n==null||(I=n.customAttr)===null||I===void 0?void 0:I.dataMode,children:(0,e.jsxs)($.ZP.Group,{optionType:"button",buttonStyle:"solid",children:[(0,e.jsx)($.ZP,{value:"static",children:"\u9759\u6001\u6570\u636E"}),(0,e.jsx)($.ZP,{value:"dynamic",children:"\u52A8\u6001\u6570\u636E"})]})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(Ne,{options:n==null||(c=n.props)===null||c===void 0?void 0:c.options,setCurComponent:u})})]});default:return(0,e.jsx)("div",{children:b})}};return(0,e.jsx)("div",{style:{padding:12,boxSizing:"border-box"},children:(0,e.jsx)(v.Z,{form:f,size:"small",layout:"vertical",children:h(n.componentType)})})},Le=ze,ke=function(r){var n=r.curComponent,u=r.setCurComponent,t=[{key:"form",label:"\u7EC4\u4EF6\u914D\u7F6E",children:(0,e.jsx)(Le,{curComponent:n,setCurComponent:u})},{key:"chart",label:"\u6574\u4F53\u914D\u7F6E",children:"Tab 2 content"}];return(0,e.jsx)("div",{className:xe.container,style:{width:L},children:(0,e.jsx)(V.Z,{items:t})})},Be=ke,Pe=o(59739),Re=o(18626),He=o(98721),Ge=function(){var r=(0,N.useState)([]),n=F()(r,2),u=n[0],t=n[1],p=(0,N.useState)(null),f=F()(p,2),l=f[0],h=f[1],g=v.Z.useForm(),b=F()(g,1),A=b[0],E=function(m,s){var x=window.innerWidth-L*2,C=m.clientX-L,j=Math.ceil(C/x*H);if(j>0&&j<=H){var I,c,T={x:j,y:0,w:6,h:3,id:(0,Pe.Z)(),componentCategory:s.componentCategory,componentType:s.value,type:s.type,resizeHandles:[],customStyle:{},props:((I=O[s.value])===null||I===void 0?void 0:I.props)||{},customAttr:((c=O[s.value])===null||c===void 0?void 0:c.customAttr)||{}};h(T)}};return(0,N.useEffect)(function(){t(l?function(i){var m=i.some(function(s){return s.id===l.id});return m?i.map(function(s){return s.id===l.id?a()(a()({},l),{},{i:l.id,resizeHandles:G}):a()(a()({},s),{},{resizeHandles:[]})}):[].concat(R()(i.map(function(s){return a()(a()({},s),{},{resizeHandles:[]})})),[a()(a()({},l),{},{i:l.id,resizeHandles:G})])}:function(i){return i.map(function(m){return a()(a()({},m),{},{resizeHandles:[]})})})},[l]),(0,e.jsx)("div",{style:{width:"100%",height:"100%",display:"flex"},children:(0,e.jsxs)(Re.ZP,{locale:He.Z,children:[(0,e.jsx)(ie,{handleComponentDragEnd:E}),(0,e.jsx)(ye,{layout:u,setLayout:t,curComponent:l,setCurComponent:h,form:A}),(0,e.jsx)(Be,{curComponent:l,setCurComponent:h},l==null?void 0:l.id)]})})},$e=Ge}}]);
